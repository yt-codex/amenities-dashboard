<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Singapore Amenities Explorer</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header>
      <div>
        <p class="eyebrow">Singapore spatial insights</p>
        <h1>Singapore Amenities Explorer</h1>
      </div>
      <p class="disclaimer">
        Disclaimer: This dashboard is compiled from publicly available sources. While care has been taken in
        preparation, the author does not guarantee and is not liable for the accuracy, completeness, or integrity
        of the data.
      </p>
    </header>

    <main>
      <aside id="panel">
        <section class="panel-section">
          <h2>Controls</h2>

          <label for="geoSelect">Geography</label>
          <select id="geoSelect">
            <option value="pa">Planning Area</option>
            <option value="sz">Subzone</option>
          </select>

          <div class="field-header">
            <label for="categorySelect">Category</label>
            <button
              id="categoryInfoButton"
              type="button"
              class="info-button"
              aria-label="Show category definition"
              aria-expanded="false"
              aria-controls="categoryInfoTooltip"
            >
              ?
            </button>
            <div id="categoryInfoTooltip" class="category-tooltip" role="tooltip" hidden>
              <div id="categoryInfoTitle" class="tooltip-title">Category</div>
              <div id="categoryInfoSource">Source: -</div>
              <div id="categoryInfoIncludes">No definition available.</div>
            </div>
          </div>
          <select id="categorySelect"></select>

          <label for="snapshotSelect">Snapshot</label>
          <select id="snapshotSelect"></select>

          <label for="metricSelect">Metric</label>
          <select id="metricSelect">
            <option value="COUNT">COUNT</option>
            <option value="PER_1000">PER_1000</option>
          </select>

          <label for="ageGroupSelect">Age Group</label>
          <select id="ageGroupSelect"></select>
        </section>

        <section class="panel-section">
          <h2>Status</h2>
          <div id="configWarning" class="status warn" hidden></div>
          <div id="statusLine" class="status info">Initializing...</div>
          <div id="contextLine" class="status info">No data loaded yet.</div>
          <div id="errorLine" class="status error" hidden></div>
        </section>

        <section class="panel-section">
          <h2>Legend</h2>
          <div id="legendTitle" class="legend-title">No data</div>
          <div id="legendBins"></div>
        </section>

        <section class="panel-section">
          <h2>Top Areas</h2>
          <div id="topAreasSummary" class="status info">No rankings yet.</div>
          <ol id="topAreasList" class="top-areas-list"></ol>
        </section>
      </aside>

      <div id="map"></div>
    </main>

    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script type="module" src="./app.js"></script>
  </body>
</html>
